{"version":3,"file":"commonHelpers2.js","sources":["../src/js/exercise-card.js"],"sourcesContent":["\nimport axios from 'axios';\nimport EnergyFlowApiSevice from './api-service';\n\nconst exercisesCardList = document.querySelector(\".favorites-list\");\nconst exerciseCardNameWidth = document.querySelector(\".card-exercise-name\")\nconst favoriteDivWithoutCards = document.querySelector(\".favorites-div-without-cards\")\nconst LOCAL_STORAGE_KEY = \"favoriteExerciseIds\";\n\nconst energyFlowApiService = new EnergyFlowApiSevice();\nenergyFlowApiService.getExercisesByCategory(\"muscles\", \"abs\", 1, 6)\n  .then((response) => addCardToList(response.results));\n\n  function addCardToList(results) {\n    console.log(results);\n    const cardElement = results.map((cardData) => `\n      <li class=\"exercises-card\">\n        <div class=\"exercises-card-upper-part\">\n          <div class=\"div-rating-or-delete-button\">\n            <div class=\"workout-text\">WORKOUT</div>\n            <div class=\"card-rating\">${cardData.rating} <span>\n              <svg class=\"rating-icon\" width=\"18\" height=\"18\">\n              <use href=\"./images/sprite.svg#icon-star\"></use></svg>\n            </span></div>\n            <button type=\"button\" id=\"${cardData._id}\" class=\"card-delete card-delte-inactive\">\n              <svg class=\"trash-icon\" width=\"16\" height=\"16\">\n              <use href=\"./images/sprite.svg#icon-trash\"></use></svg>\n            </button>\n          </div>\n          <button type=\"button\" class=\"card-start\">Start <span>\n            <svg class=\"start-icon\" width=\"14\" height=\"14\">\n            <use href=\"./images/sprite.svg#icon-right-arrow\"></use></svg>\n          </span></button>\n        </div>\n        <div class=\"exercises-card-midle-part\">\n          <div class=\"exercises-card-midle-part-svg\">\n            <svg class=\"runing-man-icon\" width=\"24\" height=\"24\">\n            <use href=\"./images/sprite.svg#icon-runing-man\"></use></svg>\n          </div>\n          <p class=\"card-exercise-name\">${capitalizeFirstLetter(cardData.name)}</p>\n        </div>\n        <div class=\"exercises-card-lower-part\">\n          <p>Burned calories: <span class=\"exercises-card-lower-part-span\">${cardData.burnedCalories} / 3 min</span></p>\n          <p>Body part: <span class=\"exercises-card-lower-part-span\">${cardData.bodyPart}</span></p>\n          <p>Target: <span class=\"exercises-card-lower-part-span\">${cardData.target}</span></p>\n        </div>\n      </li>\n  `).join(\"\");\n\n  exercisesCardList.insertAdjacentHTML(\"beforeend\", cardElement);\n\n}\n\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n\n// --------------delete button-----------------------//\n\nconst removeFromFavoritesButtons = document.querySelectorAll(\".card-delete\");\n\nremoveFromFavoritesButtons.forEach(button => {\n  button.addEventListener(\"click\", () =>  {\n    const exerciseIdToRemove = this.id;\n    const favoriteExerciseIds = getFavoriteExerciseIds();\n    const indexToRemove = favoriteExerciseIds.indexOf(exerciseIdToRemove);\n\n    if (indexToRemove !== -1) {\n      favoriteExerciseIds.splice(indexToRemove, 1);\n      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(favoriteExerciseIds));\n    }\n    updateInterfaceAfterRemoval(exerciseIdToRemove);\n  });\n});\n\nfunction updateInterfaceAfterRemoval(exerciseIdToRemove) {\n  const cardToRemove = document.querySelector(`.exercises-card[data-id=\"${exerciseIdToRemove}\"]`);/////якщо помилка то точно тут\n\n  if (cardToRemove) {\n    cardToRemove.remove();\n  }\n}\n\n//--------------------- add to favorites---------------------------\n\n\n\nconst addToFavoritesButtons = document.querySelectorAll(\".exercise-favorite-add-btn\");\n\naddToFavoritesButtons.forEach(button => {\n  button.addEventListener(\"click\", async function() {\n    const exerciseId = this.id;\n    console.log(exerciseId);\n\n    const favoriteExerciseIds = getFavoriteExerciseIds();\n\n    if (!favoriteExerciseIds.includes(exerciseId)) {\n      favoriteExerciseIds.push(exerciseId);\n      localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(favoriteExerciseIds));\n    } else {\n      console.log(\"this exersice is already in favorites\")\n    }\n    \n    });\n});\n\nfunction getFavoriteExerciseIds() {\n  const storedIds = localStorage.getItem(LOCAL_STORAGE_KEY);\n  return storedIds ? JSON.parse(storedIds) : [];\n}\n"],"names":["exercisesCardList","LOCAL_STORAGE_KEY","energyFlowApiService","EnergyFlowApiSevice","response","addCardToList","results","cardElement","cardData","capitalizeFirstLetter","string","removeFromFavoritesButtons","button","exerciseIdToRemove","this","favoriteExerciseIds","getFavoriteExerciseIds","indexToRemove","updateInterfaceAfterRemoval","cardToRemove","addToFavoritesButtons","exerciseId","storedIds"],"mappings":"kFAIA,MAAMA,EAAoB,SAAS,cAAc,iBAAiB,EACpC,SAAS,cAAc,qBAAqB,EAC1C,SAAS,cAAc,8BAA8B,EACrF,MAAMC,EAAoB,sBAEpBC,EAAuB,IAAIC,EACjCD,EAAqB,uBAAuB,UAAW,MAAO,EAAG,CAAC,EAC/D,KAAME,GAAaC,EAAcD,EAAS,OAAO,CAAC,EAEnD,SAASC,EAAcC,EAAS,CAC9B,QAAQ,IAAIA,CAAO,EACnB,MAAMC,EAAcD,EAAQ,IAAKE,GAAa;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKXA,EAAS,MAAM;AAAA;AAAA;AAAA;AAAA,wCAIdA,EAAS,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAeVC,EAAsBD,EAAS,IAAI,CAAC;AAAA;AAAA;AAAA,6EAGDA,EAAS,cAAc;AAAA,uEAC7BA,EAAS,QAAQ;AAAA,oEACpBA,EAAS,MAAM;AAAA;AAAA;AAAA,GAGhF,EAAE,KAAK,EAAE,EAEVR,EAAkB,mBAAmB,YAAaO,CAAW,CAE/D,CAGA,SAASE,EAAsBC,EAAQ,CACrC,OAAOA,EAAO,OAAO,CAAC,EAAE,YAAW,EAAKA,EAAO,MAAM,CAAC,CACxD,CAKA,MAAMC,EAA6B,SAAS,iBAAiB,cAAc,EAE3EA,EAA2B,QAAQC,GAAU,CAC3CA,EAAO,iBAAiB,QAAS,IAAO,CACtC,MAAMC,EAAqBC,WAAK,GAC1BC,EAAsBC,IACtBC,EAAgBF,EAAoB,QAAQF,CAAkB,EAEhEI,IAAkB,KACpBF,EAAoB,OAAOE,EAAe,CAAC,EAC3C,aAAa,QAAQhB,EAAmB,KAAK,UAAUc,CAAmB,CAAC,GAE7EG,EAA4BL,CAAkB,CAClD,CAAG,CACH,CAAC,EAED,SAASK,EAA4BL,EAAoB,CACvD,MAAMM,EAAe,SAAS,cAAc,4BAA4BN,CAAkB,IAAI,EAE1FM,GACFA,EAAa,OAAM,CAEvB,CAMA,MAAMC,EAAwB,SAAS,iBAAiB,4BAA4B,EAEpFA,EAAsB,QAAQR,GAAU,CACtCA,EAAO,iBAAiB,QAAS,gBAAiB,CAChD,MAAMS,EAAa,KAAK,GACxB,QAAQ,IAAIA,CAAU,EAEtB,MAAMN,EAAsBC,IAEvBD,EAAoB,SAASM,CAAU,EAI1C,QAAQ,IAAI,uCAAuC,GAHnDN,EAAoB,KAAKM,CAAU,EACnC,aAAa,QAAQpB,EAAmB,KAAK,UAAUc,CAAmB,CAAC,EAKjF,CAAK,CACL,CAAC,EAED,SAASC,GAAyB,CAChC,MAAMM,EAAY,aAAa,QAAQrB,CAAiB,EACxD,OAAOqB,EAAY,KAAK,MAAMA,CAAS,EAAI,CAAA,CAC7C"}