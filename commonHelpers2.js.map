{"version":3,"file":"commonHelpers2.js","sources":["../src/js/favorites.js","../src/js/exercise-card.js"],"sourcesContent":["\n\nconst pageLinks = document.querySelector('.favorites-page');\nconst headerEl = document.querySelector('.header-section');\nheaderEl.classList.add('header-section-favorites')\npageLinks.classList.add('active-page');\n\n\nimport { checkDate } from './quote';\n\ncheckDate();\n","\nimport EnergyFlowApiSevice from './api-service';\nimport imgUrl from '../images/sprite.svg';\nimport { exerciseCardMarkup } from './markup';\nimport { renderExerciseModal } from \"./renderExerciseModal\";\n\nconst exercisesCardList = document.querySelector(\".favorites-list\");\nconst listWithoutExercases = document.querySelector(\".favorites-div-without-cards \");\nconst exercisesCard = document.querySelector(\".exercises-card\")\nconst LOCAL_STORAGE_KEY = \"favoriteExerciseIds\";\nconst energyFlowApiService = new EnergyFlowApiSevice();\n// localStorage.clear()\n\n\n\n  function addCardToList(results) {\n    console.log(results)\n    const cardElement = results.map((cardData) => `\n\n      <li class=\"exercises-card\" id=\"${cardData._id}\">\n        <div class=\"exercises-card-upper-part\">\n          <div class=\"div-rating-or-delete-button\">\n            <div class=\"workout-text\">WORKOUT</div>\n            <div class=\"card-rating\">${cardData.rating.toFixed(1)} <span>\n              <svg class=\"rating-icon\" width=\"18\" height=\"18\">\n\n              <use href=\"${imgUrl}#icon-star\"></use></svg>\n\n            </span></div>\n            <button type=\"button\" id=\"${cardData._id}\" class=\"card-delete\">\n              <svg class=\"trash-icon\" width=\"16\" height=\"16\">\n\n              <use href=\"${imgUrl}#icon-trash\"></use></svg>\n\n            </button>\n          </div>\n          <button type=\"button\" class=\"card-start\">Start <span>\n            <svg class=\"start-icon\" width=\"14\" height=\"14\">\n\n            <use href=\"${imgUrl}#icon-right-arrow\"></use></svg>\n\n          </span></button>\n        </div>\n        <div class=\"exercises-card-midle-part\">\n          <div class=\"exercises-card-midle-part-svg\">\n            <svg class=\"runing-man-icon\" width=\"24\" height=\"24\">\n\n            <use href=\"${imgUrl}#icon-runing-man\"></use></svg>\n\n          </div>\n          <p class=\"card-exercise-name\">${capitalizeFirstLetter(\n            cardData.name\n          )}</p>\n        </div>\n        <div class=\"exercises-card-lower-part\">\n          <p>Burned calories: <span class=\"exercises-card-lower-part-span\">${\n            cardData.burnedCalories\n          } / 3 min</span></p>\n          <p>Body part: <span class=\"exercises-card-lower-part-span\">${\n            cardData.bodyPart\n          }</span></p>\n          <p>Target: <span class=\"exercises-card-lower-part-span\">${\n            cardData.target\n          }</span></p>\n        </div>\n      </li>\n  `\n    )\n    .join('');\n\n  exercisesCardList.insertAdjacentHTML('beforeend', cardElement);\n  deleteButtonEventListener();\n}\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n// --------------delete button-----------------------//\n\n\nfunction deleteButtonEventListener() {\n  const removeFromFavoritesButtons = document.querySelectorAll(\".card-delete\");\n  console.log(removeFromFavoritesButtons);\n  removeFromFavoritesButtons.forEach(button => deleteButtonAddEventListener(button));\n}\n\nfunction deleteButtonAddEventListener(button) {\n  console.log(button);\n\n  button.addEventListener(\"click\", function() {\n  const exerciseIdToRemove = this.id;\n  console.log(exerciseIdToRemove);\n\n  const favoriteExerciseIds = getFavoriteExerciseIds();\n  let newFavoriteExerciseIds = favoriteExerciseIds.filter(element => element !== exerciseIdToRemove);\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(newFavoriteExerciseIds));\n\n  updateInterfaceAfterRemoval(exerciseIdToRemove);\n});\n}\n\nfunction updateInterfaceAfterRemoval(exerciseIdToRemove) {\n  const cardToRemove = document.querySelector(\n    `.exercises-card[id=\"${exerciseIdToRemove}\"]`\n  );\n\n  if (cardToRemove) {\n    cardToRemove.remove();\n  }\n}\n\n//--------------------- add to favorites---------------------------\n\nfunction getFavoriteExerciseIds() {\n  const storedIds = localStorage.getItem(LOCAL_STORAGE_KEY);\n  return storedIds ? JSON.parse(storedIds) : [];\n}\n\n// -------------------------Завантаження з улюблених-----------------------------------\nconst favoriteExerciseIdInLocalStorage = getFavoriteExerciseIds();\n\nconst fetchDataForIds = async (ids) => {\n  const promises = ids.map((id) => energyFlowApiService.getExerciseInfoById(id));\n  return Promise.all(promises);\n};\n\nif (favoriteExerciseIdInLocalStorage.length !== 0) {\n  listWithoutExercases.classList.add(\"favorites-div-without-cards-hidden\");\n  fetchDataForIds(favoriteExerciseIdInLocalStorage)\n  .then((results) => { addCardToList(results) })\n  .catch((error) => {\n    console.error('Error fetching data:', error);\n  });\n} else {\n  listWithoutExercases.classList.remove(\"favorites-div-without-cards-hidden\");\n}\n\n// ---------------------------ПАГІНАЦІЯ-----------------------------------\n"],"names":["pageLinks","headerEl","checkDate","exercisesCardList","listWithoutExercases","LOCAL_STORAGE_KEY","energyFlowApiService","EnergyFlowApiSevice","addCardToList","results","cardElement","cardData","imgUrl","capitalizeFirstLetter","deleteButtonEventListener","string","removeFromFavoritesButtons","button","deleteButtonAddEventListener","exerciseIdToRemove","newFavoriteExerciseIds","getFavoriteExerciseIds","element","updateInterfaceAfterRemoval","cardToRemove","storedIds","favoriteExerciseIdInLocalStorage","fetchDataForIds","ids","promises","id","error"],"mappings":"iGAEA,MAAMA,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAW,SAAS,cAAc,iBAAiB,EACzDA,EAAS,UAAU,IAAI,0BAA0B,EACjDD,EAAU,UAAU,IAAI,aAAa,EAKrCE,EAAW,ECJX,MAAMC,EAAoB,SAAS,cAAc,iBAAiB,EAC5DC,EAAuB,SAAS,cAAc,+BAA+B,EAC7D,SAAS,cAAc,iBAAiB,EAC9D,MAAMC,EAAoB,sBACpBC,EAAuB,IAAIC,EAK/B,SAASC,EAAcC,EAAS,CAC9B,QAAQ,IAAIA,CAAO,EACnB,MAAMC,EAAcD,EAAQ,IAAKE,GAAa;AAAA;AAAA,uCAEXA,EAAS,GAAG;AAAA;AAAA;AAAA;AAAA,uCAIZA,EAAS,OAAO,QAAQ,CAAC,CAAC;AAAA;AAAA;AAAA,2BAGtCC,CAAM;AAAA;AAAA;AAAA,wCAGOD,EAAS,GAAG;AAAA;AAAA;AAAA,2BAGzBC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAORA,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAQNA,CAAM;AAAA;AAAA;AAAA,0CAGWC,EAC9BF,EAAS,IACrB,CAAW;AAAA;AAAA;AAAA,6EAICA,EAAS,cACV;AAAA,uEAECA,EAAS,QACV;AAAA,oEAECA,EAAS,MACV;AAAA;AAAA;AAAA,GAIN,EACA,KAAK,EAAE,EAEVR,EAAkB,mBAAmB,YAAaO,CAAW,EAC7DI,GACF,CAEA,SAASD,EAAsBE,EAAQ,CACrC,OAAOA,EAAO,OAAO,CAAC,EAAE,YAAW,EAAKA,EAAO,MAAM,CAAC,CACxD,CAKA,SAASD,GAA4B,CACnC,MAAME,EAA6B,SAAS,iBAAiB,cAAc,EAC3E,QAAQ,IAAIA,CAA0B,EACtCA,EAA2B,QAAQC,GAAUC,EAA6BD,CAAM,CAAC,CACnF,CAEA,SAASC,EAA6BD,EAAQ,CAC5C,QAAQ,IAAIA,CAAM,EAElBA,EAAO,iBAAiB,QAAS,UAAW,CAC5C,MAAME,EAAqB,KAAK,GAChC,QAAQ,IAAIA,CAAkB,EAG9B,IAAIC,EADwBC,IACqB,OAAOC,GAAWA,IAAYH,CAAkB,EACjG,aAAa,QAAQd,EAAmB,KAAK,UAAUe,CAAsB,CAAC,EAE9EG,EAA4BJ,CAAkB,CAChD,CAAC,CACD,CAEA,SAASI,EAA4BJ,EAAoB,CACvD,MAAMK,EAAe,SAAS,cAC5B,uBAAuBL,CAAkB,IAC7C,EAEMK,GACFA,EAAa,OAAM,CAEvB,CAIA,SAASH,GAAyB,CAChC,MAAMI,EAAY,aAAa,QAAQpB,CAAiB,EACxD,OAAOoB,EAAY,KAAK,MAAMA,CAAS,EAAI,CAAA,CAC7C,CAGA,MAAMC,EAAmCL,EAAsB,EAEzDM,EAAkB,MAAOC,GAAQ,CACrC,MAAMC,EAAWD,EAAI,IAAKE,GAAOxB,EAAqB,oBAAoBwB,CAAE,CAAC,EAC7E,OAAO,QAAQ,IAAID,CAAQ,CAC7B,EAEIH,EAAiC,SAAW,GAC9CtB,EAAqB,UAAU,IAAI,oCAAoC,EACvEuB,EAAgBD,CAAgC,EAC/C,KAAMjB,GAAY,CAAED,EAAcC,CAAO,CAAC,CAAE,EAC5C,MAAOsB,GAAU,CAChB,QAAQ,MAAM,uBAAwBA,CAAK,CAC/C,CAAG,GAED3B,EAAqB,UAAU,OAAO,oCAAoC"}