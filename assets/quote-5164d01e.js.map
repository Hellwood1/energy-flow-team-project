{"version":3,"file":"quote-5164d01e.js","sources":["../../src/images/sprite.svg","../../src/js/api-service.js","../../src/js/quote.js"],"sourcesContent":["export default \"__VITE_ASSET__b8313eac__\"","import axios from 'axios';\n\nexport default class EnergyFlowApiSevice {\n  constructor() {\n    axios.defaults.headers.common['Content-type'] = 'application/json';\n    this.BASE_URL = 'https://energyflow.b.goit.study/api';\n  }\n\n  async getCategoriesByFilter(filterName, page, perPage) {\n    const searchParams = new URLSearchParams({\n      filter: filterName,\n      page: page,\n      limit: perPage,\n    });\n    const response = await axios.get(\n      `${this.BASE_URL}/filters?${searchParams}`\n    );\n    return response.data;\n  }\n  async getExercisesByCategory(filter, category, page, perPage) {\n    const searchParams = new URLSearchParams({\n      [filter]: category,\n      page: page,\n      limit: perPage,\n    });\n    const response = await axios.get(\n      `${this.BASE_URL}/exercises?${searchParams}`\n    );\n    return response.data;\n  }\n  async getExercisesByKeyWord(filter, category, keyword, page, perPage) {\n    const searchParams = new URLSearchParams({\n      [filter]: category,\n      keyword: keyword,\n      page: page,\n      limit: perPage,\n    });\n    const response = await axios.get(\n      `${this.BASE_URL}/exercises?${searchParams}`\n    );\n    return response.data;\n  }\n  async getExerciseInfoById(id) {\n    const response = await axios.get(`${this.BASE_URL}/exercises/${id}`);\n    return response.data;\n  }\n  async giveRating(id, rating, email, comment) {\n    const response = await axios({\n      method: 'patch',\n      url: `${this.BASE_URL}/exercises/${id}/rating`,\n      data: {\n        rate: Number(rating),\n        email: email,\n        review: comment,\n      },\n    });\n    return response;\n  }\n  async getAllExercises() {\n    const response = await axios.get(`${this.BASE_URL}/exercises?&limit=9999`);\n    return response.data;\n  }\n  async getQuote() {\n    const response = await axios.get(`${this.BASE_URL}/quote`);\n    return response.data;\n  }\n  async sendSubscription(email) {\n    const response = await axios({\n      method: 'post',\n      url: `${this.BASE_URL}/subscription`,\n      data: {\n        email: email,\n      },\n    });\n    return response.data;\n  }\n}\n","import EnergyFlowApiSevice from './api-service';\nconst quoteText = document.querySelector('.quote-text');\nconst quoteAuthor = document.querySelector('.quote-author');\n\nconst example = new EnergyFlowApiSevice;\n\n// функція для отримання цитати з backend і зберігання її в localStorage\nconst fetchQuote = async () => {\n  try {\n    // запит на сервер\n    const data = await example.getQuote();\n\n    if (data && data.quote && data.author) {\n      // Зберігаємо цитату та дату (на момент останнього запиту) в localStorage\n      const currentDate = new Date().toDateString();\n      localStorage.setItem('quoteObj', JSON.stringify(data));\n      localStorage.setItem('currentDate', currentDate);\n    }\n  } catch (error) {\n    console.error('Помилка при отриманні цитати:', error);\n  }\n}\n\n// функція для перевірки дати та зміни цитати в разі незбігання дат, а також перезапису нової дати в localStorage\nconst checkDate = async () => {\n  const currentDate = new Date().toDateString();\n  const storedDate = localStorage.getItem('currentDate');\n\n  // перевіряю, чи змінилась дата або в разі її відсутності(наприклад, при першому заході на сайт)\n  if (!storedDate || currentDate !== storedDate) {\n      // функція отримання цитати\n      await fetchQuote();\n      changeContent();\n  } else {\n    // якщо дата не змінилась, вик.збережена цитата з localStorage\n      changeContent();\n  }\n}\n\nfunction changeContent() {\n    const storedQuote = JSON.parse(localStorage.getItem('quoteObj'));\n      quoteText.innerHTML = storedQuote.quote;\n      quoteAuthor.innerHTML = storedQuote.author;\n}\n\n// експорт\nexport { checkDate };"],"names":["imgUrl","EnergyFlowApiSevice","axios","filterName","page","perPage","searchParams","filter","category","keyword","id","rating","email","comment","quoteText","quoteAuthor","example","fetchQuote","data","currentDate","error","checkDate","storedDate","changeContent","storedQuote"],"mappings":"+uBAAA,MAAeA,EAAA,uDCEA,MAAMC,CAAoB,CACvC,aAAc,CACZC,EAAM,SAAS,QAAQ,OAAO,cAAc,EAAI,mBAChD,KAAK,SAAW,qCACjB,CAED,MAAM,sBAAsBC,EAAYC,EAAMC,EAAS,CACrD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,OAAQH,EACR,KAAMC,EACN,MAAOC,CACb,CAAK,EAID,OAHiB,MAAMH,EAAM,IAC3B,GAAG,KAAK,QAAQ,YAAYI,CAAY,EAC9C,GACoB,IACjB,CACD,MAAM,uBAAuBC,EAAQC,EAAUJ,EAAMC,EAAS,CAC5D,MAAMC,EAAe,IAAI,gBAAgB,CACvC,CAACC,CAAM,EAAGC,EACV,KAAMJ,EACN,MAAOC,CACb,CAAK,EAID,OAHiB,MAAMH,EAAM,IAC3B,GAAG,KAAK,QAAQ,cAAcI,CAAY,EAChD,GACoB,IACjB,CACD,MAAM,sBAAsBC,EAAQC,EAAUC,EAASL,EAAMC,EAAS,CACpE,MAAMC,EAAe,IAAI,gBAAgB,CACvC,CAACC,CAAM,EAAGC,EACV,QAASC,EACT,KAAML,EACN,MAAOC,CACb,CAAK,EAID,OAHiB,MAAMH,EAAM,IAC3B,GAAG,KAAK,QAAQ,cAAcI,CAAY,EAChD,GACoB,IACjB,CACD,MAAM,oBAAoBI,EAAI,CAE5B,OADiB,MAAMR,EAAM,IAAI,GAAG,KAAK,QAAQ,cAAcQ,CAAE,EAAE,GACnD,IACjB,CACD,MAAM,WAAWA,EAAIC,EAAQC,EAAOC,EAAS,CAU3C,OATiB,MAAMX,EAAM,CAC3B,OAAQ,QACR,IAAK,GAAG,KAAK,QAAQ,cAAcQ,CAAE,UACrC,KAAM,CACJ,KAAM,OAAOC,CAAM,EACnB,MAAOC,EACP,OAAQC,CACT,CACP,CAAK,CAEF,CACD,MAAM,iBAAkB,CAEtB,OADiB,MAAMX,EAAM,IAAI,GAAG,KAAK,QAAQ,wBAAwB,GACzD,IACjB,CACD,MAAM,UAAW,CAEf,OADiB,MAAMA,EAAM,IAAI,GAAG,KAAK,QAAQ,QAAQ,GACzC,IACjB,CACD,MAAM,iBAAiBU,EAAO,CAQ5B,OAPiB,MAAMV,EAAM,CAC3B,OAAQ,OACR,IAAK,GAAG,KAAK,QAAQ,gBACrB,KAAM,CACJ,MAAOU,CACR,CACP,CAAK,GACe,IACjB,CACH,CC3EA,MAAME,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAU,IAAIf,EAGdgB,EAAa,SAAY,CAC7B,GAAI,CAEF,MAAMC,EAAO,MAAMF,EAAQ,WAE3B,GAAIE,GAAQA,EAAK,OAASA,EAAK,OAAQ,CAErC,MAAMC,EAAc,IAAI,KAAM,EAAC,aAAY,EAC3C,aAAa,QAAQ,WAAY,KAAK,UAAUD,CAAI,CAAC,EACrD,aAAa,QAAQ,cAAeC,CAAW,CAChD,CACF,OAAQC,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,CACrD,CACH,EAGMC,EAAY,SAAY,CAC5B,MAAMF,EAAc,IAAI,KAAM,EAAC,aAAY,EACrCG,EAAa,aAAa,QAAQ,aAAa,GAGjD,CAACA,GAAcH,IAAgBG,IAE/B,MAAML,EAAU,EAChBM,GAKN,EAEA,SAASA,GAAgB,CACrB,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQ,UAAU,CAAC,EAC7DV,EAAU,UAAYU,EAAY,MAClCT,EAAY,UAAYS,EAAY,MAC1C"}