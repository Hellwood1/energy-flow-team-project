{"version":3,"file":"quote-e25615ea.js","sources":["../../src/images/sprite.svg","../../src/js/api-service.js","../../src/js/manageModals.js","../../src/js/quote.js"],"sourcesContent":["export default \"__VITE_ASSET__b8313eac__\"","import axios from 'axios';\n\nexport default class EnergyFlowApiSevice {\n  constructor() {\n    axios.defaults.headers.common['Content-type'] = 'application/json';\n    this.BASE_URL = 'https://energyflow.b.goit.study/api';\n  }\n\n  async getCategoriesByFilter(filterName, page, perPage) {\n    const searchParams = new URLSearchParams({\n      filter: filterName,\n      page: page,\n      limit: perPage,\n    });\n    const response = await axios.get(\n      `${this.BASE_URL}/filters?${searchParams}`\n    );\n    return response.data;\n  }\n  async getExercisesByCategory(filter, category, page, perPage) {\n    const searchParams = new URLSearchParams({\n      [filter]: category,\n      page: page,\n      limit: perPage,\n    });\n    const response = await axios.get(\n      `${this.BASE_URL}/exercises?${searchParams}`\n    );\n    return response.data;\n  }\n  async getExercisesByKeyWord(filter, category, keyword, page, perPage) {\n    const searchParams = new URLSearchParams({\n      [filter]: category,\n      keyword: keyword,\n      page: page,\n      limit: perPage,\n    });\n    const response = await axios.get(\n      `${this.BASE_URL}/exercises?${searchParams}`\n    );\n    return response.data;\n  }\n  async getExerciseInfoById(id) {\n    const response = await axios.get(`${this.BASE_URL}/exercises/${id}`);\n    return response.data;\n  }\n  async giveRating(id, rating, email, comment) {\n    const response = await axios({\n      method: 'patch',\n      url: `${this.BASE_URL}/exercises/${id}/rating`,\n      data: {\n        rate: Number(rating),\n        email: email,\n        review: comment,\n      },\n    });\n    return response;\n  }\n  async getAllExercises() {\n    const response = await axios.get(`${this.BASE_URL}/exercises?&limit=9999`);\n    return response.data;\n  }\n  async getQuote() {\n    const response = await axios.get(`${this.BASE_URL}/quote`);\n    return response.data;\n  }\n  async sendSubscription(email) {\n    const response = await axios({\n      method: 'post',\n      url: `${this.BASE_URL}/subscription`,\n      data: {\n        email: email,\n      },\n    });\n    return response.data;\n  }\n}\n","const modalExercise = document.querySelector('.exercise-modal');\nconst modalBackdrop = document.querySelector('.exercise-modal-backdrop');\n\nconst modalRating = document.querySelector('[data-modal-rating]');\nconst ratingBackdrop = document.querySelector('[data-modal-rating-backdrop]');\nconst ratingContainer = document.querySelector('[data-modal-rating-container]');\nconst closeRatingModalBtn = document.querySelector('[data-modal-rating-close]');\n\nconst openExerciseModal = () => {\n  modalBackdrop.classList.remove('backdrop-is-hidden');\n  modalExercise.classList.remove('modal-is-hidden');\n  window.addEventListener('keydown', closeExerciseCardByEscape);\n};\n\nconst closeExerciseModal = () => {\n  modalBackdrop.classList.add('backdrop-is-hidden');\n  modalExercise.classList.add('modal-is-hidden');\n  window.removeEventListener('keydown', closeExerciseCardByEscape);\n};\n\nconst openRatingModal = () => {\n  ratingBackdrop.classList.remove('backdrop-rating-is-hidden');\n  ratingContainer.classList.remove('modal-rating-is-hidden');\n  closeExerciseModal();\n  window.removeEventListener('keydown', closeExerciseCardByEscape);\n  window.addEventListener('keydown', closeRatingModalByEscape);\n};\nconst closeRatingModal = () => {\n  ratingBackdrop.classList.add('backdrop-rating-is-hidden');\n  ratingContainer.classList.add('modal-rating-is-hidden');\n  openExerciseModal();\n  window.removeEventListener('keydown', closeRatingModalByEscape);\n  window.addEventListener('keydown', closeExerciseCardByEscape);\n};\n\nfunction closeExerciseCardByEscape(e) {\n  if (e.key === 'Escape') {\n    closeExerciseModal();\n  }\n}\nfunction closeRatingModalByEscape(e) {\n  if (e.key === 'Escape') {\n    closeRatingModal();\n  }\n}\n\nconst addListenersToCloseRatingModal = () => {\n  closeRatingModalBtn.addEventListener('click', closeRatingModal);\n\n  modalRating.addEventListener('click', e => {\n    if (e.target !== ratingBackdrop && e.target !== closeRatingModalBtn) return;\n    closeRatingModal();\n  });\n};\n\n\nexport {addListenersToCloseRatingModal, closeRatingModal, openRatingModal, closeExerciseModal, openExerciseModal, modalBackdrop, modalExercise}","import EnergyFlowApiSevice from './api-service';\nconst quoteText = document.querySelector('.quote-text');\nconst quoteAuthor = document.querySelector('.quote-author');\n\nconst example = new EnergyFlowApiSevice;\n\n// функція для отримання цитати з backend і зберігання її в localStorage\nconst fetchQuote = async () => {\n  try {\n    // запит на сервер\n    const data = await example.getQuote();\n\n    if (data && data.quote && data.author) {\n      // Зберігаємо цитату та дату (на момент останнього запиту) в localStorage\n      const currentDate = new Date().toDateString();\n      localStorage.setItem('quoteObj', JSON.stringify(data));\n      localStorage.setItem('currentDate', currentDate);\n    }\n  } catch (error) {\n    console.error('Помилка при отриманні цитати:', error);\n  }\n}\n\n// функція для перевірки дати та зміни цитати в разі незбігання дат, а також перезапису нової дати в localStorage\nconst checkDate = async () => {\n  const currentDate = new Date().toDateString();\n  const storedDate = localStorage.getItem('currentDate');\n\n  // перевіряю, чи змінилась дата або в разі її відсутності(наприклад, при першому заході на сайт)\n  if (!storedDate || currentDate !== storedDate) {\n      // функція отримання цитати\n      await fetchQuote();\n      changeContent();\n  } else {\n    // якщо дата не змінилась, вик.збережена цитата з localStorage\n      changeContent();\n  }\n}\n\nfunction changeContent() {\n    const storedQuote = JSON.parse(localStorage.getItem('quoteObj'));\n      quoteText.innerHTML = storedQuote.quote;\n      quoteAuthor.innerHTML = storedQuote.author;\n}\n\n// експорт\nexport { checkDate };"],"names":["imgUrl","EnergyFlowApiSevice","axios","filterName","page","perPage","searchParams","filter","category","keyword","id","rating","email","comment","modalExercise","modalBackdrop","modalRating","ratingBackdrop","ratingContainer","closeRatingModalBtn","openExerciseModal","closeExerciseCardByEscape","closeExerciseModal","openRatingModal","closeRatingModalByEscape","closeRatingModal","e","addListenersToCloseRatingModal","quoteText","quoteAuthor","example","fetchQuote","data","currentDate","error","checkDate","storedDate","changeContent","storedQuote"],"mappings":"+uBAAA,MAAeA,EAAA,uDCEA,MAAMC,CAAoB,CACvC,aAAc,CACZC,EAAM,SAAS,QAAQ,OAAO,cAAc,EAAI,mBAChD,KAAK,SAAW,qCACjB,CAED,MAAM,sBAAsBC,EAAYC,EAAMC,EAAS,CACrD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,OAAQH,EACR,KAAMC,EACN,MAAOC,CACb,CAAK,EAID,OAHiB,MAAMH,EAAM,IAC3B,GAAG,KAAK,QAAQ,YAAYI,CAAY,EAC9C,GACoB,IACjB,CACD,MAAM,uBAAuBC,EAAQC,EAAUJ,EAAMC,EAAS,CAC5D,MAAMC,EAAe,IAAI,gBAAgB,CACvC,CAACC,CAAM,EAAGC,EACV,KAAMJ,EACN,MAAOC,CACb,CAAK,EAID,OAHiB,MAAMH,EAAM,IAC3B,GAAG,KAAK,QAAQ,cAAcI,CAAY,EAChD,GACoB,IACjB,CACD,MAAM,sBAAsBC,EAAQC,EAAUC,EAASL,EAAMC,EAAS,CACpE,MAAMC,EAAe,IAAI,gBAAgB,CACvC,CAACC,CAAM,EAAGC,EACV,QAASC,EACT,KAAML,EACN,MAAOC,CACb,CAAK,EAID,OAHiB,MAAMH,EAAM,IAC3B,GAAG,KAAK,QAAQ,cAAcI,CAAY,EAChD,GACoB,IACjB,CACD,MAAM,oBAAoBI,EAAI,CAE5B,OADiB,MAAMR,EAAM,IAAI,GAAG,KAAK,QAAQ,cAAcQ,CAAE,EAAE,GACnD,IACjB,CACD,MAAM,WAAWA,EAAIC,EAAQC,EAAOC,EAAS,CAU3C,OATiB,MAAMX,EAAM,CAC3B,OAAQ,QACR,IAAK,GAAG,KAAK,QAAQ,cAAcQ,CAAE,UACrC,KAAM,CACJ,KAAM,OAAOC,CAAM,EACnB,MAAOC,EACP,OAAQC,CACT,CACP,CAAK,CAEF,CACD,MAAM,iBAAkB,CAEtB,OADiB,MAAMX,EAAM,IAAI,GAAG,KAAK,QAAQ,wBAAwB,GACzD,IACjB,CACD,MAAM,UAAW,CAEf,OADiB,MAAMA,EAAM,IAAI,GAAG,KAAK,QAAQ,QAAQ,GACzC,IACjB,CACD,MAAM,iBAAiBU,EAAO,CAQ5B,OAPiB,MAAMV,EAAM,CAC3B,OAAQ,OACR,IAAK,GAAG,KAAK,QAAQ,gBACrB,KAAM,CACJ,MAAOU,CACR,CACP,CAAK,GACe,IACjB,CACH,CC5EK,MAACE,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAgB,SAAS,cAAc,0BAA0B,EAEjEC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAiB,SAAS,cAAc,8BAA8B,EACtEC,EAAkB,SAAS,cAAc,+BAA+B,EACxEC,EAAsB,SAAS,cAAc,2BAA2B,EAExEC,EAAoB,IAAM,CAC9BL,EAAc,UAAU,OAAO,oBAAoB,EACnDD,EAAc,UAAU,OAAO,iBAAiB,EAChD,OAAO,iBAAiB,UAAWO,CAAyB,CAC9D,EAEMC,EAAqB,IAAM,CAC/BP,EAAc,UAAU,IAAI,oBAAoB,EAChDD,EAAc,UAAU,IAAI,iBAAiB,EAC7C,OAAO,oBAAoB,UAAWO,CAAyB,CACjE,EAEME,EAAkB,IAAM,CAC5BN,EAAe,UAAU,OAAO,2BAA2B,EAC3DC,EAAgB,UAAU,OAAO,wBAAwB,EACzDI,IACA,OAAO,oBAAoB,UAAWD,CAAyB,EAC/D,OAAO,iBAAiB,UAAWG,CAAwB,CAC7D,EACMC,EAAmB,IAAM,CAC7BR,EAAe,UAAU,IAAI,2BAA2B,EACxDC,EAAgB,UAAU,IAAI,wBAAwB,EACtDE,IACA,OAAO,oBAAoB,UAAWI,CAAwB,EAC9D,OAAO,iBAAiB,UAAWH,CAAyB,CAC9D,EAEA,SAASA,EAA0BK,EAAG,CAChCA,EAAE,MAAQ,UACZJ,GAEJ,CACA,SAASE,EAAyBE,EAAG,CAC/BA,EAAE,MAAQ,UACZD,GAEJ,CAEK,MAACE,EAAiC,IAAM,CAC3CR,EAAoB,iBAAiB,QAASM,CAAgB,EAE9DT,EAAY,iBAAiB,QAASU,GAAK,CACrCA,EAAE,SAAWT,GAAkBS,EAAE,SAAWP,GAChDM,GACJ,CAAG,CACH,ECpDMG,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAU,IAAI7B,EAGd8B,EAAa,SAAY,CAC7B,GAAI,CAEF,MAAMC,EAAO,MAAMF,EAAQ,WAE3B,GAAIE,GAAQA,EAAK,OAASA,EAAK,OAAQ,CAErC,MAAMC,EAAc,IAAI,KAAM,EAAC,aAAY,EAC3C,aAAa,QAAQ,WAAY,KAAK,UAAUD,CAAI,CAAC,EACrD,aAAa,QAAQ,cAAeC,CAAW,CAChD,CACF,OAAQC,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,CACrD,CACH,EAGMC,EAAY,SAAY,CAC5B,MAAMF,EAAc,IAAI,KAAM,EAAC,aAAY,EACrCG,EAAa,aAAa,QAAQ,aAAa,GAGjD,CAACA,GAAcH,IAAgBG,IAE/B,MAAML,EAAU,EAChBM,GAKN,EAEA,SAASA,GAAgB,CACrB,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQ,UAAU,CAAC,EAC7DV,EAAU,UAAYU,EAAY,MAClCT,EAAY,UAAYS,EAAY,MAC1C"}